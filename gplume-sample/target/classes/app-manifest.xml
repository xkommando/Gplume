<?xml version="1.0" encoding="UTF-8"?>
<beans>

<!-- NEW -->
<import>classpath:conf1.xml</import>

<properties import="/i18n/en.properties">
	<key1>value1</key1>
	<key2> value2 </key2>
	<i18n_cn>i18n</i18n_cn>
    <i18n_cn2>zh_CN.properties</i18n_cn2>
	<iso639_zh>zh_CN</iso639_zh>
	<my_injector>com.caibowen.gplume.core.Injector</my_injector>
</properties>

<!-- NEW  -->
<!-- web app infrastracture -->

	<bean id="i18nService" class="com.caibowen.gplume.web.i18n.WebI18nService">
	    <property name="defaultLang" value="SimplifiedChinese"/>
	    <property name="defaultTimeZone" value="ETC/GMT-8"/>
	    <property name="pkgFiles">
	        <props>
	            <prop key="en">/i18n/en.properties</prop>
	            <prop key="${iso639_zh}">/${i18n_cn}/${i18n_cn2}</prop>
	        </props>
	    </property>
	</bean>

    <bean class="com.caibowen.gplume.web.WebConfig">
        <property name="preProcessor">
            <bean class="com.caibowen.gplume.web.i18n.NativePkgInjector">
                <property name="i18nService" ref="i18nService"/>
            </bean>
        </property>
        <property name="pkgs">
            <list>
                <value>com.caibowen.gplume.sample</value>
            </list>
        </property>
        <!-- using JSP view resolver by default -->
        <property name="viewPrefix" value="/"/>
        <property name="viewSuffix" value=".jsp" />
    </bean>

	<!--<bean id="controlCenter" class="com.caibowen.gplume.web.SimpleControlCenter">-->
		<!--<property name="preProcessor">-->
			<!--<bean class="com.caibowen.gplume.web.i18n.NativePkgInjector">-->
				  <!--<property name="i18nService" ref="i18nService"/>-->
			<!--</bean>-->
		<!--</property>-->
		<!--<property name="actionFactory" instance="com.caibowen.gplume.web.builder.ActionFactory" />-->
		<!--<property name="injector" instance="${my_injector}" />-->
	<!--</bean>-->
	<!---->
    <!--<bean class="com.caibowen.gplume.web.misc.ControllerScanner">-->
        <!--<property name="packages">-->
            <!--<list>-->
                <!--<value>com.caibowen.gplume.sample</value>-->
            <!--</list>-->
        <!--</property>-->
        <!--<property name="controlCenterCallBack" ref="controlCenter"/>-->
    <!--</bean>-->

</beans>


