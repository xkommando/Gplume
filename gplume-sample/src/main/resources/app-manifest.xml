<?xml version="1.0" encoding="UTF-8"?>
<beans namespace="main" using="conf1">

<!-- NEW -->
<config>classpath:conf1.xml</config>

<properties scope="global">
	<key1>value1</key1>
	<key2> value2 </key2>
	<i18n_cn>i18n</i18n_cn>
    <i18n_cn2>zh_CN.properties</i18n_cn2>
	<iso639_zh>zh_CN</iso639_zh>
	<my_injector>com.caibowen.gplume.context.bean.Injector</my_injector>
</properties>

<bean id="pox" class="com.caibowen.gplume.sample.model.XXX"
      proxy="com.caibowen.gplume.sample.model.XXXPOX">
    <construct val="456" type="Integer"/>
    <field name="name" val="hahahahhah" />
</bean>
<!-- NEW  -->
<!-- web app infrastructure -->

    <bean class="com.caibowen.gplume.sample.model.Tester">
        <construct val="456" type="Integer"/>
        <field name="map">
            <map>
                <k1 type="Integer">456</k1>
                <k2 type="Double">456.45789</k2>
            </map>
        </field>
    </bean>



    <bean class="com.caibowen.gplume.web.WebConfig">
        <field name="preProcessor">
            <bean class="com.caibowen.gplume.web.i18n.NativePkgInjector">
                <field name="i18nService" ref="i18nService"/>
            </bean>
        </field>
        <field name="pkgs">
            <list>
                <val>com.caibowen.gplume.sample</val>
            </list>
        </field>
        <!-- using JSP view resolver by default -->
        <field name="viewPrefix" val="/"/>
        <field name="viewSuffix" val=".jsp" />
    </bean>

    <bean id="i18nService" class="com.caibowen.gplume.web.i18n.HotSwapWebI18n">
        <field name="resolver" instance="com.caibowen.gplume.i18n.DefaultDialectResolver" />
        <field name="defaultLang" val="SimplifiedChinese"/>
        <field name="defaultTimeZone" val="ETC/GMT-8"/>
        <field name="pkgFiles">
            <map>
                <en>/i18n/en.properties</en>
                <zh_CN>/${i18n_cn}/${i18n_cn2}</zh_CN>
            </map>
        </field>
    </bean>
	<!--<bean id="controlCenter" class="com.caibowen.gplume.web.SimpleControlCenter">-->
		<!--<field name="preProcessor">-->
			<!--<bean class="com.caibowen.gplume.web.i18n.NativePkgInjector">-->
				  <!--<field name="i18nService" ref="i18nService"/>-->
			<!--</bean>-->
		<!--</field>-->
		<!--<field name="actionFactory" instance="com.caibowen.gplume.web.actions.ActionFactory" />-->
		<!--<field name="injector" instance="${my_injector}" />-->
	<!--</bean>-->
	<!---->
    <!--<bean class="com.caibowen.gplume.web.misc.ControllerScanner">-->
        <!--<field name="packages">-->
            <!--<list>-->
                <!--<val>com.caibowen.gplume.sample</val>-->
            <!--</list>-->
        <!--</field>-->
        <!--<field name="controlCenterCallBack" ref="controlCenter"/>-->
    <!--</bean>-->

</beans>


